---
title: "cutspace"
author: "Alvein, Orr, Pham"
date: "5/25/2020"
output: pdf_document
---

#### KM Age
```{r km., fig.align='center', echo=FALSE}

km.age = survfit(s.df~Age.Strata, type="kaplan-meier", data = df)
ggsurvplot(km.age, 
           palette = c("darkcyan","darkgoldenrod3","darkorange3"), 
           title="Post-Myocardial Infarction Survival", 
           subtitle="Stratified by Age Group",
           font.title=c(12,"bold.italic"),
           font.subtitle = c(10,"italic"),
           font.x = c(9, "bold.italic"),
           font.y = c(9, "bold.italic"),
           ylab="Surival Proportion", 
           xlab="Time to Death (Months)",
           surv.median.line = "hv",
           legend.title = "Groups",
           legend.labs = c("< 45 Year","45 - 64 Years","\u2265 65 Years"))

```

Brief fitting of stratification survival by age shows some surviving results. The youngest group has the highest survival to the median, and then see a sharp decrease in survivability after the median time of 30 months has past. In contrast, our two older groups have relatively similar patterns of survivability through the median. Given that younger individuals generally have healthier hearts, patients that experience a myocardial infarction at a younger age are likely to have a slew of other complication.

#### KM P.Effusion
```{r km.effusion, fig.align='center', echo=FALSE}

km.effusion = survfit(s.df~P.Effusion, type="kaplan-meier", data = df)
ggsurvplot(km.effusion, 
           palette = c("darkcyan","darkgoldenrod3"), 
           title="Post-Myocardial Infarction Survival", 
           subtitle="Stratified by Presence of Pericardial Effusion",
           font.title=c(12,"bold.italic"),
           font.subtitle = c(10,"italic"),
           font.x = c(9, "bold.italic"),
           font.y = c(9, "bold.italic"),
           ylab="Surival Proportion", 
           xlab="Time to Death (Months)",
           surv.median.line = "hv",
           legend.title = "Groups",
           legend.labs = c("Present","Absent"))

```

#### KM Wall Motion Index
```{r km.wmi, echo=FALSE}

km.wmi = survfit(s.df~WMI.S, type="kaplan-meier", data = df)
ggsurvplot(km.wmi, 
           palette = c("darkcyan","darkgoldenrod3"), 
           title="Post-Myocardial Infarction Survival", 
           subtitle="Stratified by Wall Motion Index",
           font.title=c(12,"bold.italic"),
           font.subtitle = c(10,"italic"),
           font.x = c(9, "bold.italic"),
           font.y = c(9, "bold.italic"),
           ylab="Surival Proportion", 
           xlab="Time to Death (Months)",
           surv.median.line = "hv",
           legend.title = "Groups",
           legend.labs = c("\u2264 1.28","> 1.28"))

```
```
Wall motion index is determined by taking the wall motion score and dividing it by the number of heart segments that are moving. Normally 12-13 segments are observed moving. Here, comparing the two strata (around 1.28), we see slight different between the two curves, but nothing substantial. 1.28 was chosen as a demarcation line as half of the patients belong in either group. In this scenario, we that the upper half has little difference from the lower half: